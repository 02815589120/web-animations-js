// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.

!function(a,b){b["true"]=a;var c={},d={},e={},f=null;!function(a,b,c){function d(a){var b={delay:0,endDelay:0,fill:"none",iterationStart:0,iterations:1,duration:0,playbackRate:1,direction:"normal",easing:"linear"};return"number"==typeof a?b.duration=a:void 0!==a&&Object.getOwnPropertyNames(a).forEach(function(c){if("auto"!==a[c]){if("number"==typeof b[c]&&"number"!=typeof a[c])return;if("fill"==c&&-1==q.indexOf(a[c]))return;if("direction"==c&&-1==r.indexOf(a[c]))return;b[c]=a[c]}}),b.easing=g(b.easing),b}function e(a,b,c,d){return 0>a||a>1||a>c||c>1?z:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}for(var g=0,h=1;;){var i=(g+h)/2,j=f(a,c,i);if(Math.abs(e-j)<.001)return f(b,d,i);e>j?g=i:h=i}}}function f(a,b){return function(c){if(c>=1)return 1;var d=1/a;return c+=b*d,c-c%d}}function g(a){var b=x.exec(a);if(b)return e.apply(this,b.slice(1).map(Number));var c=y.exec(a);if(c)return f(Number(c[1]),{start:s,middle:t,end:u}[c[2]]);var d=v[a];return d?d:z}function h(a){return Math.abs(i(a)/a.playbackRate)}function i(a){return a.duration*a.iterations}function j(a,b,c){return null==b?A:b<c.delay?B:b>=c.delay+a?C:D}function k(a,b,c,d,e){switch(d){case B:return"backwards"==b||"both"==b?0:null;case D:return c-e;case C:return"forwards"==b||"both"==b?a:null;case A:return null}}function l(a,b,c,d){return(d.playbackRate<0?b-a:b)*d.playbackRate+c}function m(a,b,c,d,e){return 1/0===c||c===-1/0||c-d==b&&e.iterations&&(e.iterations+e.iterationStart)%1==0?a:c%a}function n(a,b,c,d){return 0===c?0:b==a?d.iterationStart+d.iterations-1:Math.floor(c/a)}function o(a,b,c,d){var e=a%2>=1,f="normal"==d.direction||d.direction==(e?"alternate-reverse":"alternate"),g=f?c:b-c,h=g/b;return b*d.easing(h)}function p(a,b,c){var d=j(a,b,c),e=k(a,c.fill,b,d,c.delay);if(null===e)return null;var f=c.iterationStart*c.duration,g=l(a,e,f,c),h=m(c.duration,i(c),g,f,c),p=n(c.duration,h,g,c);return o(p,c.duration,h,c)/c.duration}var q="backwards|forwards|both".split("|"),r="reverse|alternate|alternate-reverse".split("|"),s=1,t=.5,u=0,v={ease:e(.25,.1,.25,1),"ease-in":e(.42,0,1,1),"ease-out":e(0,0,.58,1),"ease-in-out":e(.42,0,.58,1),"step-start":f(1,s),"step-middle":f(1,t),"step-end":f(1,u)},w="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",x=new RegExp("cubic-bezier\\("+w+","+w+","+w+","+w+"\\)"),y=/step\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,z=function(a){return a},A=0,B=1,C=2,D=3;a.localTimeToTimeFraction=function(a,b){var c=d(b),e=h(c);return p(e,a,c)},b.AnimationNode=function(a){var b=d(a),c=h(b),e=function(a){return p(c,a,b)};return e.totalDuration=c+b.delay+b.endDelay,e}}(c,d,f),function(a){a.Animation=function(b,c,d){var e,f=a.AnimationNode(d),g=a.convertEffectInput(c),h=function(){g(b,e)};return h.update=function(a){return e=f(a),null!==e},h.totalDuration=f.totalDuration,h};var b=function(){};b.totalDuration=0,b.update=b,a.nullAnimation=b}(d,f),function(a){a.apply=function(a,b,c){a.style[b]=c},a.clear=function(a,b){a.style[b]=""}}(d,f),function(a){function b(a,b,c){for(var e=0;e<c.length;e++){var f=c[e];d[f]=d[f]||[],d[f].push([a,b])}}function c(b,c,e){for(var f=c==e?[]:d[b],g=0;f&&g<f.length;g++){var h=f[g][0](c),i=f[g][0](e);if(void 0!==h&&void 0!==i){var j=f[g][1](h,i);if(j)return a.Interpolation.apply(null,j)}}return a.Interpolation(!1,!0,function(a){return a?e:c})}var d={};a.addPropertiesHandler=b,a.propertyInterpolation=c}(d,f),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(c(b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElement("canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["color","backgroundColor"])}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(b,c){var d,e=[];for(d in b)e.push(d);for(d in c)e.indexOf(d)<0&&e.push(d);return b=e.map(function(a){return b[a]||0}),c=e.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(b,c){return a.numberToString(b)+e[c]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var e="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",f=c.bind(null,new RegExp(e,"g")),g=c.bind(null,new RegExp(e+"|%","g")),h=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=f,a.parseLengthOrPercent=g,a.parseAngle=h,a.mergeDimensions=d,a.addPropertiesHandler(g,d,"left|right|top|bottom|width|height".split("|"))}(d,f),function(a,b,c){function d(a){function b(){var a=c.length;null==c[a-1].offset&&(c[a-1].offset=1),a>1&&null==c[0].offset&&(c[0].offset=0);for(var b=0,d=c[0].offset,e=1;a>e;e++){var f=c[e].offset;if(null!=f){for(var g=1;e-b>g;g++)c[b+g].offset=d+(f-d)*g/(e-b);b=e,d=f}}}if(!Array.isArray(a)&&null!==a)throw new TypeError("Keyframe effect must be null or an array of keyframes");if(null==a)return[];for(var c=a.map(function(a){var b={};for(var c in a){var d=a[c];if("offset"==c){if(null!=d&&(d=Number(d),!isFinite(d)))throw new TypeError("keyframe offsets must be numbers.")}else d=""+d;b[c]=d}return void 0==b.offset&&(b.offset=null),b}),d=!0,e=!0,f=-1/0,g=0;g<c.length;g++){var h=c[g].offset;null!=h?(f>h&&(e=!1),f=h):d=!1}if(c=c.filter(function(a){return a.offset>=0&&a.offset<=1}),!e){if(!d)throw"Keyframes are not loosely sorted by offset. Sort or specify offsets.";c.sort(function(a,b){return a.offset-b.offset})}return d||b(),c}function e(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d){var e={offset:a[c].offset,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw"Partial keyframes are not supported"}return b}function f(a){var c=[];for(var d in a)for(var e=a[d],f=0;f<e.length-1;f++)c.push({startTime:e[f].offset,endTime:e[f+1].offset,property:d,interpolation:b.propertyInterpolation(d,e[f].value,e[f+1].value)});return c.sort(function(a,b){return a.startTime-b.startTime}),c}b.convertEffectInput=function(a){if("function"==typeof a)return function(b,c){a(c,b)};var c=d(a),g=e(c),h=f(g);return function(a,c){if(null!=c)for(var d=0;d<h.length&&h[d].startTime<=c;d++)h[d].endTime>=c&&h[d].endTime!=h[d].startTime&&b.apply(a,h[d].property,h[d].interpolation((c-h[d].startTime)/(h[d].endTime-h[d].startTime)));else for(var e in g)"offset"!=e&&b.clear(a,e)}},a.normalizeKeyframes=d}(c,d,f),function(a){b.Element.prototype.animate=function(b,c){return a.timeline._play(a.Animation(this,b,c))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return.5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d,f),function(a){function b(a){return a.toFixed(3).replace(".000","")}function c(a,b,c){return Math.min(b,Math.max(a,c))}function d(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function e(a,c){return[a,c,b]}function f(a,d){return function(e,f){return[e,f,function(e){return b(c(a,d,e))}]}}a.addPropertiesHandler(d,f(0,1),["opacity"]),a.parseNumber=d,a.mergeNumbers=e,a.numberToString=b}(d,f),function(a){function b(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}var c=0;a.Player=function(a){this.__currentTime=0,this._startTime=null,this._source=a,this.paused=!1,this._playbackRate=1,this._sequenceNumber=c++,this._inTimeline=!0,this._finishedFlag=!1,this.onfinish=null,this._finishHandlers=[],this._hasTicked=!1},a.Player.prototype={get currentTime(){return this.__currentTime},set _currentTime(a){a==this.__currentTime&&this._hasTicked||(this._hasTicked=!0,this.__currentTime=a,this.finished&&(this.__currentTime=this._playbackRate>0?this._source.totalDuration:0),this._inEffect=this._source.update(this.__currentTime),!this._inTimeline&&this._inEffect&&(this._inTimeline=!0,document.timeline.players.push(this)))},get playbackRate(){return this._playbackRate},set currentTime(b){this._currentTime=b,a.invalidateEffects(),this.paused||(this._startTime=this._timeline.currentTime-this.__currentTime/this._playbackRate)},get finished(){return this._playbackRate>0&&this.__currentTime>=this._source.totalDuration||this._playbackRate<0&&this.__currentTime<=0},get startTime(){return this.paused||null!=this._startTime||a.tickNow(),this._startTime},set startTime(b){this.paused||(this._startTime=b,this._currentTime=this._timeline.currentTime-b,a.invalidateEffects())},pause:function(){this.paused=!0,this._startTime=null},play:function(){this.paused=!1,this.finished&&(this._currentTime=this._playbackRate>0?0:this._source.totalDuration,a.invalidateEffects()),this._finishedFlag=!1,this._startTime=a.restart()?null:this._timeline.currentTime-this.__currentTime/this._playbackRate},reverse:function(){this._playbackRate*=-1,this._startTime=a.restart()?null:this._timeline.currentTime-this.__currentTime/this._playbackRate,this._inTimeline||(this._inTimeline=!0,document.timeline.players.push(this)),this._finishedFlag=!1},finish:function(){this.currentTime=this._playbackRate>0?this._source.totalDuration:0},cancel:function(){this._source=a.nullAnimation,this.currentTime=0},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(){var a=this.finished;if(a&&!this._finishedFlag){var c=new b(this,this.currentTime,document.timeline.currentTime),d=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)}this._finishedFlag=a}}}(d,f),function(a,c){function d(){return g(k.currentTime),b.getComputedStyle.apply(this,arguments)}function e(a){Object.defineProperty(b,"getComputedStyle",{configurable:!0,enumerable:!0,value:a})}function f(){i&&(e(j),i=!1)}function g(a){var c=b.document.timeline;c.currentTime=a,c.players.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),h=!1;var d=[];c.players=c.players.filter(function(b){return b.paused||b.finished||(h=!0,null===b._startTime&&(b.startTime=a-b.__currentTime/b.playbackRate),b._currentTime=(a-b.startTime)*b.playbackRate,b._inEffect?d.push(b._source):b._source()),b._fireEvents(),!b.finished||b._inEffect?!0:(b._inTimeline=!1,!1)}),d.forEach(function(a){a()}),f(),h&&requestAnimationFrame(g)}a.Timeline=function(){this.players=[],this.currentTime=void 0},a.Timeline.prototype={_play:function(b){var c=new a.Player(b);return h&&void 0!==this.currentTime&&(c._startTime=this.currentTime),c._timeline=this,this.players.push(c),a.restart(),a.invalidateEffects(),c}};var h=!0;a.restart=function(){return h?void 0:(requestAnimationFrame(g),h=!0,!0)};var i=!1,j=b.getComputedStyle;a.invalidateEffects=function(){i||(e(d),i=!0)},a.tickNow=function(){g(performance.now())},requestAnimationFrame(g);var k=new a.Timeline;a.timeline=k;try{Object.defineProperty(b.document,"timeline",{configurable:!0,get:function(){return k}})}catch(l){}try{b.document.timeline=k}catch(l){}}(d,f),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===i?b[c++]:a})}}function d(a){return a}function e(b){if(b=b.toLowerCase().trim(),"none"==b)return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=l[g];if(!h)return;var i=c[2].split(","),m=h[0];if(m.length<i.length)return;for(var n=[],o=0;o<m.length;o++){var p,q=i[o],r=m[o];if(p=q?{A:function(b){return"0"==b.trim()?k:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:k,n:n[0],t:j}[r],void 0===p)return;n.push(p)}if(e.push([g,n]),d.lastIndex==b.length)return e}}function f(a){return a.replace(/[xy]/,"")}function g(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function h(b,c){var d=!1;if(!b.length||!c.length){b.length||(d=!0,b=c,c=[]);for(var e=0;e<b.length;e++){var h=b[e][0],i=b[e][1],j="scale"==h.substr(0,5)?1:0;c.push([h,i.map(function(a){if("number"==typeof a)return j;var b={};for(var c in a)b[c]=j;return b})])}}if(b.length==c.length){for(var k=[],m=[],n=[],e=0;e<b.length;e++){var h,o=b[e][0],p=c[e][0],q=b[e][1],r=c[e][1],s=l[o],t=l[p];if(o==p)h=o;else if(s[2]&&t[2]&&f(o)==f(p))h=f(o),q=s[2](q),r=t[2](r);else{if(!s[1]||!t[1]||g(o)!=g(p))return;h=g(o),q=s[1](q),r=t[1](r)}for(var u=[],v=0;v<q.length;v++){var w="number"==typeof q[v]?a.mergeNumbers:a.mergeDimensions,x=w(q[v],r[v]);q[v]=x[0],r[v]=x[1],u.push(x[2])}k.push(q),m.push(r),n.push([h,u])}if(d){var y=k;k=m,m=y}return[k,m,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return n[b][1][c](a)}).join(",");return n[b][0]+"("+c+")"}).join(" ")}]}}var i=null,j={px:0},k={deg:0},l={rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],scale:["Nn",c([i,i,1]),d],scalex:["N",c([i,1,1]),c([i,1])],scaley:["N",c([1,i,1]),c([1,i])],scalez:["N",c([1,1,i])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([i,k])],skewy:["A",null,c([k,i])],translate:["Tt",c([i,i,j]),d],translatex:["T",c([i,j,j]),c([i,j])],translatey:["T",c([j,i,j]),c([j,i])],translatez:["L",c([j,j,i])],translate3d:["TTL",d]};a.addPropertiesHandler(e,h,["transform"])}(d,f)}({},function(){return this}());
//# sourceMappingURL=web-animations-minifill.min.js.map