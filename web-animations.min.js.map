{"version":3,"file":"web-animations.min.js","sources":["?","src/scope.js","src/animation-node.js","src/animation.js","src/apply.js","src/property-interpolation.js","src/color-handler.js","src/dimension-handler.js","src/effect.js","src/element-animate.js","src/interpolation.js","src/number-handler.js","src/player.js","src/timeline.js","src/transform-handler.js"],"names":["exports","global","shared","minifill","maxifill","testing","scope","normalizeTimingInput","timingInput","input","delay","endDelay","fill","iterationStart","iterations","duration","playbackRate","direction","easing","undefined","Object","getOwnPropertyNames","forEach","property","fills","indexOf","directions","toTimingFunction","cubic","a","b","c","d","linear","x","f","m","start","end","mid","xEst","Math","abs","step","count","pos","stepSize","cubicData","cubicBezierRe","exec","apply","this","slice","map","Number","stepData","stepRe","Start","middle","Middle","End","preset","presets","calculateActiveDuration","repeatedDuration","calculatePhase","activeDuration","localTime","PhaseNone","PhaseBefore","PhaseAfter","PhaseActive","calculateActiveTime","fillMode","phase","calculateScaledActiveTime","activeTime","startOffset","calculateIterationTime","iterationDuration","scaledActiveTime","Infinity","calculateCurrentIteration","iterationTime","floor","calculateTransformedTime","currentIteration","currentIterationIsOdd","currentDirectionIsForwards","directedTime","timeFraction","calculateTimeFraction","split","ease","ease-in","ease-out","ease-in-out","step-start","step-middle","step-end","numberString","RegExp","localTimeToTimeFraction","AnimationNode","totalDuration","Animation","target","effectInput","animationNode","effect","convertEffectInput","animation","update","nullAnimation","element","value","style","clear","addPropertiesHandler","parser","merger","properties","i","length","propertyHandlers","push","propertyInterpolation","left","right","handlers","parsedLeft","parsedRight","interpolationArgs","Interpolation","bool","parseColor","string","trim","context","fillStyle","contextSerializedFillStyle","fillRect","pixelColor","getImageData","data","clearRect","alpha","mergeColors","clamp","v","max","min","round","numberToString","join","canvas","document","createElement","width","height","getContext","parseDimension","unitRegExp","toLowerCase","search","px","test","replace","matchedUnits","match","taggedUnitRegExp","source","typeCheck","reductions","unit","result","eval","isFinite","mergeDimensions","units","values","lengthUnits","parseLength","bind","parseLengthOrPercent","parseAngle","normalize","spaceKeyframes","keyframeEffect","offset","previousIndex","previousOffset","j","Array","isArray","TypeError","originalKeyframe","keyframe","member","memberValue","everyFrameHasOffset","looselySortedByOffset","filter","sort","leftKeyframe","rightKeyframe","makePropertySpecificKeyframeGroups","propertySpecificKeyframeGroups","propertySpecificKeyframe","groupName","group","makeInterpolations","interpolations","startTime","endTime","interpolation","leftInterpolation","rightInterpolation","fraction","normalizeKeyframes","Element","prototype","animate","timeline","_play","interpolate","from","to","r","convertToString","toFixed","parseNumber","mergeNumbers","clampedMergeNumbers","AnimationPlayerEvent","currentTime","timelineTime","type","bubbles","cancelable","currentTarget","defaultPrevented","eventPhase","Event","AT_TARGET","timeStamp","Date","now","sequenceNumber","Player","__currentTime","_startTime","_source","paused","_playbackRate","_sequenceNumber","_inTimeline","_finishedFlag","onfinish","_finishHandlers","_hasTicked",{"end":{"file":"src/player.js","comments_before":[],"nlb":false,"endpos":1485,"pos":1474,"col":8,"line":48,"value":"currentTime","type":"name"},"start":{"file":"src/player.js","comments_before":[],"nlb":false,"endpos":1485,"pos":1474,"col":8,"line":48,"value":"currentTime","type":"name"},"name":"currentTime"},"_currentTime","newTime","finished","_inEffect","players","invalidateEffects","_timeline","tickNow","pause","play","restart","reverse","finish","cancel","addEventListener","handler","removeEventListener","index","splice","_fireEvents","event","concat","setTimeout","call","retickBeforeGetComputedStyle","tick","getComputedStyle","arguments","setGetComputedStyle","newGetComputedStyle","defineProperty","configurable","enumerable","ensureOriginalGetComputedStyle","getComputedStylePatched","originalGetComputedStyle","t","leftPlayer","rightPlayer","ticking","pendingEffects","player","requestAnimationFrame","Timeline","performance","get","e","cast","pattern","contents","_","id","parseTransform","transformRegExp","prevLastIndex","functionName","functionData","transformFunctions","args","argTypes","parsedArgs","parsedArg","arg","A","s","Odeg","N","T","L","toUpperCase","n","Opx","lastIndex","typeTo2D","typeTo3D","mergeTransforms","flipResults","defaultValue","substr","leftResult","rightResult","types","leftType","rightType","leftArgs","rightArgs","leftFunctionData","rightFunctionData","stringConversions","merge","merged","tmp","list","stringifiedArgs","deg","rotate","rotatex","rotatey","rotatez","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d"],"mappings":"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"}